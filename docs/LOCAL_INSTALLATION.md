# ğŸ’» æœ¬åœ°å®‰è£…ä½¿ç”¨æŒ‡å—

æœ¬æ–‡æ¡£è¯¦ç»†ä»‹ç»å¦‚ä½•åœ¨æœ¬åœ°å®‰è£…å’Œä½¿ç”¨ç•ªèŒ„å°è¯´ä¸‹è½½å™¨ã€‚

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

### æœ€ä½è¦æ±‚
- **æ“ä½œç³»ç»Ÿ**: Windows 10+, macOS 10.14+, Ubuntu 18.04+
- **Python**: 3.7 æˆ–æ›´é«˜ç‰ˆæœ¬
- **å†…å­˜**: è‡³å°‘ 2GB RAM
- **å­˜å‚¨ç©ºé—´**: è‡³å°‘ 500MB å¯ç”¨ç©ºé—´
- **ç½‘ç»œ**: ç¨³å®šçš„äº’è”ç½‘è¿æ¥

### æ¨èé…ç½®
- **æ“ä½œç³»ç»Ÿ**: Windows 11, macOS 12+, Ubuntu 20.04+
- **Python**: 3.9 æˆ–æ›´é«˜ç‰ˆæœ¬
- **å†…å­˜**: 4GB+ RAM
- **å­˜å‚¨ç©ºé—´**: 2GB+ å¯ç”¨ç©ºé—´

## ğŸš€ å®‰è£…æ–¹å¼

### æ–¹å¼ä¸€ï¼šä¸‹è½½å¯æ‰§è¡Œæ–‡ä»¶ï¼ˆæ¨èï¼‰

#### Windows

1. **ä¸‹è½½æ–‡ä»¶**
   - è®¿é—® [å‘å¸ƒé¡µé¢](https://github.com/POf-L/Fanqie-novel-Downloader/releases)
   - ä¸‹è½½ `TomatoNovelDownloader-Standalone.exe`ï¼ˆæ¨èï¼Œå†…ç½®è¿è¡Œåº“ï¼‰
   - æˆ–ä¸‹è½½ `TomatoNovelDownloader.exe`ï¼ˆéœ€è¦ç³»ç»Ÿå®‰è£… WebView2ï¼‰

2. **è¿è¡Œç¨‹åº**
   - åŒå‡» `.exe` æ–‡ä»¶å¯åŠ¨
   - é¦–æ¬¡è¿è¡Œå¯èƒ½éœ€è¦å‡ ç§’é’Ÿåˆå§‹åŒ–
   - ç¨‹åºä¼šè‡ªåŠ¨åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ Web ç•Œé¢

3. **Windows Defender è­¦å‘Š**
   - å¦‚æœå‡ºç°å®‰å…¨è­¦å‘Šï¼Œç‚¹å‡»"æ›´å¤šä¿¡æ¯" â†’ "ä»è¦è¿è¡Œ"
   - è¿™æ˜¯è¯¯æŠ¥ï¼Œç¨‹åºå®Œå…¨å®‰å…¨

#### macOS

1. **ä¸‹è½½æ–‡ä»¶**
   - ä»å‘å¸ƒé¡µé¢ä¸‹è½½ `TomatoNovelDownloader-macos`
   - ç¡®ä¿ä¸‹è½½äº† Intel ç‰ˆæœ¬ï¼ˆé Apple Siliconï¼‰

2. **è®¾ç½®æƒé™**
   ```bash
   chmod +x TomatoNovelDownloader-macos
   ```

3. **è¿è¡Œç¨‹åº**
   ```bash
   ./TomatoNovelDownloader-macos
   ```

4. **macOS å®‰å…¨è­¦å‘Š**
   - å¦‚æœå‡ºç°"æ— æ³•æ‰“å¼€å› ä¸ºæ¥è‡ªèº«ä»½ä¸æ˜çš„å¼€å‘è€…"
   - ç³»ç»Ÿåå¥½è®¾ç½® â†’ å®‰å…¨æ€§ä¸éšç§ â†’ é€šç”¨ â†’ å…è®¸ä»ä»¥ä¸‹ä½ç½®ä¸‹è½½çš„ App
   - ç‚¹å‡»"ä»è¦æ‰“å¼€"

#### Linux

1. **ä¸‹è½½æ–‡ä»¶**
   - ä»å‘å¸ƒé¡µé¢ä¸‹è½½ `TomatoNovelDownloader-linux`

2. **å®‰è£…ä¾èµ–**
   ```bash
   # Ubuntu/Debian
   sudo apt-get update
   sudo apt-get install -y libgtk-3-0 libwebkit2gtk-4.0-37
   
   # CentOS/RHEL/Fedora
   sudo yum install -y gtk3 webkit2gtk3
   # æˆ– (è¾ƒæ–°ç‰ˆæœ¬)
   sudo dnf install -y gtk3 webkit2gtk3
   ```

3. **è®¾ç½®æƒé™å¹¶è¿è¡Œ**
   ```bash
   chmod +x TomatoNovelDownloader-linux
   ./TomatoNovelDownloader-linux
   ```

### æ–¹å¼äºŒï¼šä»æºä»£ç å®‰è£…

#### 1. å…‹éš†ä»“åº“

```bash
git clone https://github.com/POf-L/Fanqie-novel-Downloader.git
cd Fanqie-novel-Downloader
```

#### 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆæ¨èï¼‰

```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
# Windows
venv\Scripts\activate
# macOS/Linux
source venv/bin/activate
```

#### 3. å®‰è£…ä¾èµ–

```bash
# å®‰è£…åŸºç¡€ä¾èµ–
pip install -r config/requirements.txt

# å¦‚æœéœ€è¦å¼€å‘ç¯å¢ƒ
pip install -r config/requirements-dev.txt
```

#### 4. è¿è¡Œç¨‹åº

```bash
# GUI æ¨¡å¼ï¼ˆæ¨èï¼‰
python main.py

# CLI æ¨¡å¼
python core/cli.py --help
```

## ğŸ–¥ï¸ ä½¿ç”¨æ–¹æ³•

### GUI ç•Œé¢ä½¿ç”¨

1. **å¯åŠ¨ç¨‹åº**
   ```bash
   # å¯æ‰§è¡Œæ–‡ä»¶
   ./TomatoNovelDownloader
   
   # æˆ–æºä»£ç 
   python main.py
   ```

2. **æ‰“å¼€æµè§ˆå™¨**
   - ç¨‹åºå¯åŠ¨åä¼šè‡ªåŠ¨æ‰“å¼€é»˜è®¤æµè§ˆå™¨
   - æˆ–æ‰‹åŠ¨è®¿é—® `http://localhost:5000`

3. **æœç´¢ä¹¦ç±**
   - åœ¨æœç´¢æ¡†è¾“å…¥ä¹¦åæˆ–ä½œè€…å
   - ç‚¹å‡»æœç´¢æŒ‰é’®æˆ–æŒ‰ Enter
   - ä»æœç´¢ç»“æœä¸­é€‰æ‹©è¦ä¸‹è½½çš„ä¹¦ç±

4. **é…ç½®ä¸‹è½½**
   - é€‰æ‹©è¾“å‡ºæ ¼å¼ï¼ˆTXT/EPUBï¼‰
   - é€‰æ‹©ç« èŠ‚èŒƒå›´ï¼ˆå…¨éƒ¨/è‡ªå®šä¹‰èŒƒå›´ï¼‰
   - è®¾ç½®ä¿å­˜è·¯å¾„ï¼ˆå¯é€‰ï¼‰

5. **å¼€å§‹ä¸‹è½½**
   - ç‚¹å‡»ä¸‹è½½æŒ‰é’®
   - æŸ¥çœ‹ä¸‹è½½è¿›åº¦
   - ä¸‹è½½å®Œæˆååœ¨ä¿å­˜è·¯å¾„æ‰¾åˆ°æ–‡ä»¶

### CLI å‘½ä»¤è¡Œä½¿ç”¨

#### åŸºæœ¬å‘½ä»¤

```bash
# æŸ¥çœ‹å¸®åŠ©
python core/cli.py --help

# æœç´¢ä¹¦ç±
python core/cli.py search "æ–—ç ´è‹ç©¹"

# æŸ¥çœ‹ä¹¦ç±ä¿¡æ¯
python core/cli.py info 7372503659137005093

# ä¸‹è½½å•æœ¬ä¹¦ç±
python core/cli.py download 7372503659137005093 --format txt

# æ‰¹é‡ä¸‹è½½
python core/cli.py batch-download 7372503659137005093 7372528691033300280 --format epub --concurrent 3
```

#### é«˜çº§å‚æ•°

```bash
# æŒ‡å®šä¿å­˜è·¯å¾„
python core/cli.py download 7372503659137005093 --path ~/Downloads/novels

# ä¸‹è½½æŒ‡å®šç« èŠ‚èŒƒå›´
python core/cli.py download 7372503659137005093 --chapter-start 1 --chapter-end 50

# å¯ç”¨è¯¦ç»†è¾“å‡º
python core/cli.py download 7372503659137005093 --verbose

# è®¾ç½®ä»£ç†
python core/cli.py download 7372503659137005093 --proxy http://127.0.0.1:8080

# è®¾ç½®è¶…æ—¶æ—¶é—´
python core/cli.py download 7372503659137005093 --timeout 30
```

## ğŸ“ æ–‡ä»¶ç»“æ„

### ç¨‹åºç›®å½•ç»“æ„

```
Fanqie-novel-Downloader/
â”œâ”€â”€ main.py                 # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ core/                   # æ ¸å¿ƒåŠŸèƒ½
â”‚   â”œâ”€â”€ novel_downloader.py # ä¸‹è½½å™¨æ ¸å¿ƒ
â”‚   â”œâ”€â”€ cli.py             # å‘½ä»¤è¡Œç•Œé¢
â”‚   â””â”€â”€ state_store.py     # çŠ¶æ€ç®¡ç†
â”œâ”€â”€ web/                    # Web ç•Œé¢
â”‚   â”œâ”€â”€ web_app.py         # Flask åº”ç”¨
â”‚   â”œâ”€â”€ static/            # é™æ€èµ„æº
â”‚   â””â”€â”€ templates/         # HTML æ¨¡æ¿
â”œâ”€â”€ utils/                  # å·¥å…·æ¨¡å—
â”œâ”€â”€ config/                 # é…ç½®æ–‡ä»¶
â””â”€â”€ novels/                 # é»˜è®¤ä¸‹è½½ç›®å½•
```

### ä¸‹è½½æ–‡ä»¶ç»“æ„

```
novels/
â”œâ”€â”€ [ä¹¦å]/
â”‚   â”œâ”€â”€ [ä¹¦å].txt         # TXT æ ¼å¼
â”‚   â”œâ”€â”€ [ä¹¦å].epub        # EPUB æ ¼å¼
â”‚   â””â”€â”€ cover.jpg          # å°é¢å›¾ç‰‡ï¼ˆå¦‚æœæœ‰ï¼‰
â””â”€â”€ ...
```

## âš™ï¸ é…ç½®è¯´æ˜

### é…ç½®æ–‡ä»¶ä½ç½®

- **Windows**: `%APPDATA%/TomatoNovelDownloader/config.json`
- **macOS**: `~/Library/Application Support/TomatoNovelDownloader/config.json`
- **Linux**: `~/.config/TomatoNovelDownloader/config.json`

### ä¸»è¦é…ç½®é¡¹

```json
{
  "download": {
    "default_format": "txt",
    "default_path": "./novels",
    "concurrent_limit": 3,
    "timeout": 30,
    "retry_times": 3
  },
  "ui": {
    "theme": "light",
    "language": "zh-CN"
  },
  "network": {
    "proxy": null,
    "user_agent": "TomatoNovelDownloader/1.0"
  }
}
```

### ç¯å¢ƒå˜é‡

```bash
# è®¾ç½®ä»£ç†
export HTTP_PROXY=http://127.0.0.1:8080
export HTTPS_PROXY=http://127.0.0.1:8080

# è®¾ç½®ä¸‹è½½è·¯å¾„
export TOMATO_DOWNLOAD_PATH=/path/to/downloads

# è®¾ç½®å¹¶å‘æ•°
export TOMATO_CONCURRENT_LIMIT=5
```

## ğŸ”§ æ•…éšœæ’é™¤

### Windows é—®é¢˜

#### é—®é¢˜1ï¼šç¨‹åºæ— æ³•å¯åŠ¨

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç¡®ä¿ä¸‹è½½äº†æ­£ç¡®ç‰ˆæœ¬ï¼ˆStandalone ç‰ˆæœ¬æ¨èï¼‰
2. å®‰è£… [Microsoft Visual C++ Redistributable](https://docs.microsoft.com/en-us/cpp/windows/latest-supported-vc-redist)
3. æ£€æŸ¥ Windows Defender æ˜¯å¦è¯¯æŠ¥

#### é—®é¢˜2ï¼šWebView2 ç›¸å…³é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ä¸‹è½½ Standalone ç‰ˆæœ¬ï¼ˆå†…ç½® WebView2ï¼‰
2. æˆ–å®‰è£… [Microsoft Edge WebView2 Runtime](https://developer.microsoft.com/en-us/microsoft-edge/webview2/)

#### é—®é¢˜3ï¼šç«¯å£è¢«å ç”¨

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. å…³é—­å…¶ä»–ä½¿ç”¨ 5000 ç«¯å£çš„ç¨‹åº
2. æˆ–ä¿®æ”¹ç«¯å£ï¼š`python main.py --port 5001`

### macOS é—®é¢˜

#### é—®é¢˜1ï¼šæ— æ³•æ‰“å¼€èº«ä»½ä¸æ˜çš„å¼€å‘è€…

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# ä¸´æ—¶å…è®¸
sudo spctl --master-disable

# æˆ–æ·»åŠ ä¾‹å¤–
xattr -d com.apple.quarantine TomatoNovelDownloader-macos
```

#### é—®é¢˜2ï¼šç¼ºå°‘åŠ¨æ€åº“

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# å®‰è£… Homebrewï¼ˆå¦‚æœæ²¡æœ‰ï¼‰
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# å®‰è£…ä¾èµ–
brew install python3 gtk+3 webkit2gtk
```

### Linux é—®é¢˜

#### é—®é¢˜1ï¼šç¼ºå°‘ GTK æˆ– WebKit

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# Ubuntu/Debian
sudo apt-get install -y libgtk-3-0 libwebkit2gtk-4.0-37 libgconf-2-4

# CentOS/RHEL/Fedora
sudo yum install -y gtk3 webkit2gtk3 GConf2
# æˆ–
sudo dnf install -y gtk3 webkit2gtk3 GConf2
```

#### é—®é¢˜2ï¼šæƒé™é—®é¢˜

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# ç¡®ä¿å¯æ‰§è¡Œæƒé™
chmod +x TomatoNovelDownloader-linux

# å¦‚æœä»ç„¶æ— æ³•è¿è¡Œ
sudo chown $USER:$USER TomatoNovelDownloader-linux
```

### é€šç”¨é—®é¢˜

#### é—®é¢˜1ï¼šç½‘ç»œè¿æ¥å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. å°è¯•ä½¿ç”¨ä»£ç†
3. æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
4. æ›´æ¢ DNSï¼ˆå¦‚ 8.8.8.8ï¼‰

#### é—®é¢˜2ï¼šä¸‹è½½é€Ÿåº¦æ…¢

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. å‡å°‘å¹¶å‘æ•°
2. æ£€æŸ¥ç½‘ç»œå¸¦å®½
3. å°è¯•ä¸åŒæ—¶é—´æ®µä¸‹è½½
4. ä½¿ç”¨ CLI æ¨¡å¼ï¼ˆé€šå¸¸æ›´å¿«ï¼‰

#### é—®é¢˜3ï¼šå†…å­˜å ç”¨è¿‡é«˜

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. å‡å°‘å¹¶å‘ä¸‹è½½æ•°é‡
2. åˆ†æ‰¹ä¸‹è½½å¤§é‡ä¹¦ç±
3. å…³é—­å…¶ä»–å ç”¨å†…å­˜çš„ç¨‹åº

## ğŸ”„ æ›´æ–°ç¨‹åº

### å¯æ‰§è¡Œæ–‡ä»¶æ›´æ–°

1. **ä¸‹è½½æ–°ç‰ˆæœ¬**
   - è®¿é—®å‘å¸ƒé¡µé¢ä¸‹è½½æœ€æ–°ç‰ˆæœ¬
   - å¤‡ä»½å½“å‰é…ç½®å’Œä¸‹è½½æ–‡ä»¶

2. **æ›¿æ¢ç¨‹åº**
   ```bash
   # å¤‡ä»½
   cp -r novels novels_backup
   
   # æ›¿æ¢ç¨‹åºæ–‡ä»¶
   # Windows: ç›´æ¥æ›¿æ¢ exe æ–‡ä»¶
   # macOS/Linux: æ›¿æ¢å¯æ‰§è¡Œæ–‡ä»¶
   ```

3. **éªŒè¯æ›´æ–°**
   ```bash
   ./TomatoNovelDownloader --version
   ```

### æºä»£ç æ›´æ–°

```bash
# æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# æ›´æ–°ä¾èµ–
pip install -r config/requirements.txt --upgrade

# è¿è¡Œç¨‹åº
python main.py
```

## ğŸ“š æ›´å¤šèµ„æº

- [ğŸ“– è¯¦ç»†ä½¿ç”¨æŒ‡å—](USER_GUIDE.md)
- [ğŸ¤– Termux æŒ‡å—](TERMUX_GUIDE.md)
- [ğŸ¤ è´¡çŒ®æŒ‡å—](CONTRIBUTING.md)
- [ğŸ› é—®é¢˜åé¦ˆ](https://github.com/POf-L/Fanqie-novel-Downloader/issues)

---

ğŸ“– **è¿”å›ä¸»æ–‡æ¡£**: [README.md](../README.md)

# ğŸ¤ è´¡çŒ®æŒ‡å—

æ„Ÿè°¢æ‚¨å¯¹ç•ªèŒ„å°è¯´ä¸‹è½½å™¨é¡¹ç›®çš„å…³æ³¨ï¼æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ã€‚

## ğŸ“‹ ç›®å½•

- [è´¡çŒ®æ–¹å¼](#è´¡çŒ®æ–¹å¼)
- [å¼€å‘ç¯å¢ƒæ­å»º](#å¼€å‘ç¯å¢ƒæ­å»º)
- [ä»£ç è§„èŒƒ](#ä»£ç è§„èŒƒ)
- [æäº¤è§„èŒƒ](#æäº¤è§„èŒƒ)
- [é—®é¢˜æŠ¥å‘Š](#é—®é¢˜æŠ¥å‘Š)
- [åŠŸèƒ½è¯·æ±‚](#åŠŸèƒ½è¯·æ±‚)
- [ä»£ç å®¡æŸ¥](#ä»£ç å®¡æŸ¥)
- [å‘å¸ƒæµç¨‹](#å‘å¸ƒæµç¨‹)

## ğŸ¯ è´¡çŒ®æ–¹å¼

### ğŸ› æŠ¥å‘Š Bug

å‘ç° Bugï¼Ÿè¯·å¸®åŠ©æˆ‘ä»¬ä¿®å¤ï¼

1. **æ£€æŸ¥ç°æœ‰ Issues**: ç¡®ä¿é—®é¢˜æœªè¢«æŠ¥å‘Š
2. **åˆ›å»ºæ–° Issue**: ä½¿ç”¨ Bug æŠ¥å‘Šæ¨¡æ¿
3. **æä¾›è¯¦ç»†ä¿¡æ¯**: åŒ…å«å¤ç°æ­¥éª¤ã€ç¯å¢ƒä¿¡æ¯
4. **æ·»åŠ æ ‡ç­¾**: é€‰æ‹©åˆé€‚çš„æ ‡ç­¾åˆ†ç±»

### ğŸ’¡ æå‡ºæ–°åŠŸèƒ½

æœ‰å¥½æƒ³æ³•ï¼Ÿæˆ‘ä»¬æƒ³å¬å¬ï¼

1. **æ£€æŸ¥ç°æœ‰è¯·æ±‚**: ç¡®ä¿åŠŸèƒ½æœªè¢«æè®®
2. **åˆ›å»ºåŠŸèƒ½è¯·æ±‚**: ä½¿ç”¨åŠŸèƒ½è¯·æ±‚æ¨¡æ¿
3. **è¯¦ç»†æè¿°**: è¯´æ˜åŠŸèƒ½ç”¨é€”å’Œå®ç°æ€è·¯
4. **è®¨è®ºå¯è¡Œæ€§**: ä¸ç»´æŠ¤è€…è®¨è®ºå®ç°æ–¹æ¡ˆ

### ğŸ“ æ”¹è¿›æ–‡æ¡£

æ–‡æ¡£åŒæ ·é‡è¦ï¼

1. **å‘ç°é”™è¯¯**: æ‰¾å‡ºæ–‡æ¡£ä¸­çš„é”™è¯¯æˆ–ä¸è¶³
2. **æå‡ºæ”¹è¿›**: å»ºè®®æ›´å¥½çš„è¡¨è¾¾æ–¹å¼
3. **è¡¥å……å†…å®¹**: æ·»åŠ ç¼ºå¤±çš„ä½¿ç”¨è¯´æ˜
4. **ç¿»è¯‘æ–‡æ¡£**: å¸®åŠ©ç¿»è¯‘æˆå…¶ä»–è¯­è¨€

### ğŸ”§ æäº¤ä»£ç 

ç›´æ¥è´¡çŒ®ä»£ç ï¼

1. **Fork é¡¹ç›®**: åˆ›å»ºæ‚¨çš„é¡¹ç›®å‰¯æœ¬
2. **åˆ›å»ºåˆ†æ”¯**: ä¸ºæ‚¨çš„åŠŸèƒ½åˆ›å»ºç‹¬ç«‹åˆ†æ”¯
3. **ç¼–å†™ä»£ç **: éµå¾ªé¡¹ç›®ä»£ç è§„èŒƒ
4. **æµ‹è¯•éªŒè¯**: ç¡®ä¿ä»£ç æ­£å¸¸å·¥ä½œ
5. **æäº¤ PR**: åˆ›å»º Pull Request

### ğŸŒŸ æ¨å¹¿é¡¹ç›®

å¸®åŠ©æ›´å¤šäººäº†è§£é¡¹ç›®ï¼

1. **åˆ†äº«ç»™æœ‹å‹**: æ¨èç»™éœ€è¦çš„äºº
2. **å†™æ•™ç¨‹**: åˆ¶ä½œä½¿ç”¨æ•™ç¨‹æˆ–è§†é¢‘
3. **ç¤¾äº¤åª’ä½“**: åœ¨ç¤¾äº¤å¹³å°åˆ†äº«
4. **å†™è¯„ä»·**: åœ¨ç›¸å…³å¹³å°å†™è¯„ä»·

## ğŸ› ï¸ å¼€å‘ç¯å¢ƒæ­å»º

### ç³»ç»Ÿè¦æ±‚

- **Python**: 3.7+ (æ¨è 3.9+)
- **Git**: æœ€æ–°ç‰ˆæœ¬
- **IDE**: VS Code, PyCharm æˆ–å…¶ä»–
- **æ“ä½œç³»ç»Ÿ**: Windows 10+, macOS 10.14+, Ubuntu 18.04+

### å…‹éš†é¡¹ç›®

```bash
# å…‹éš†æ‚¨çš„ Fork
git clone https://github.com/YOUR_USERNAME/Fanqie-novel-Downloader.git
cd Fanqie-novel-Downloader

# æ·»åŠ ä¸Šæ¸¸ä»“åº“
git remote add upstream https://github.com/POf-L/Fanqie-novel-Downloader.git
```

### åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ

```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
# Windows
venv\Scripts\activate
# macOS/Linux
source venv/bin/activate
```

### å®‰è£…ä¾èµ–

```bash
# å®‰è£…åŸºç¡€ä¾èµ–
pip install -r config/requirements.txt

# å®‰è£…å¼€å‘ä¾èµ–
pip install -r config/requirements-dev.txt

# å®‰è£… pre-commit hooks
pre-commit install
```

### é…ç½®å¼€å‘ç¯å¢ƒ

```bash
# è®¾ç½®ç¯å¢ƒå˜é‡
export PYTHONPATH="${PYTHONPATH}:$(pwd)"
export FLASK_ENV=development
export FLASK_DEBUG=1
```

### è¿è¡Œé¡¹ç›®

```bash
# è¿è¡Œä¸»ç¨‹åº
python main.py

# è¿è¡Œæµ‹è¯•
pytest tests/

# è¿è¡Œä»£ç æ£€æŸ¥
flake8 .
black .
mypy .
```

### å¼€å‘å·¥å…·é…ç½®

#### VS Code æ¨èé…ç½®

åˆ›å»º `.vscode/settings.json`ï¼š

```json
{
  "python.linting.enabled": true,
  "python.linting.flake8Enabled": true,
  "python.formatting.provider": "black",
  "python.linting.mypyEnabled": true,
  "editor.formatOnSave": true,
  "python.testing.pytestEnabled": true,
  "python.testing.pytestArgs": ["tests/"]
}
```

#### PyCharm æ¨èé…ç½®

1. **ä»£ç é£æ ¼**ï¼šSettings â†’ Editor â†’ Code Style â†’ Python â†’ Set from â†’ PEP 8
2. **ä»£ç æ£€æŸ¥**ï¼šSettings â†’ Tools â†’ External Tools â†’ æ·»åŠ  Black/Flake8
3. **æµ‹è¯•æ¡†æ¶**ï¼šSettings â†’ Tools â†’ Python Integrated Tools â†’ Default test runner â†’ pytest
4. **ç±»å‹æ£€æŸ¥**ï¼šSettings â†’ Tools â†’ External Tools â†’ æ·»åŠ  mypy

## ğŸ“ ä»£ç è§„èŒƒ

### Python ä»£ç é£æ ¼

æˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹å·¥å…·ç¡®ä¿ä»£ç è´¨é‡ï¼š

- **Black**: ä»£ç æ ¼å¼åŒ–
- **Flake8**: ä»£ç æ£€æŸ¥
- **isort**: å¯¼å…¥æ’åº
- **mypy**: ç±»å‹æ£€æŸ¥

#### åŸºæœ¬è§„èŒƒ

```python
# å¥½çš„ç¤ºä¾‹
import os
import sys
from typing import Optional, List

from config.config import CONFIG
from utils.logger import get_logger

logger = get_logger(__name__)


class NovelDownloader:
    """å°è¯´ä¸‹è½½å™¨ç±»"""
    
    def __init__(self, config: dict) -> None:
        self.config = config
        self.session = None
    
    def download_novel(
        self, 
        book_id: str, 
        format: str = "txt"
    ) -> Optional[str]:
        """
        ä¸‹è½½å°è¯´
        
        Args:
            book_id: ä¹¦ç±ID
            format: ä¸‹è½½æ ¼å¼
            
        Returns:
            ä¸‹è½½æ–‡ä»¶è·¯å¾„ï¼Œå¤±è´¥è¿”å› None
        """
        try:
            # å®ç°ä¸‹è½½é€»è¾‘
            logger.info(f"å¼€å§‹ä¸‹è½½å°è¯´: {book_id}")
            # ...
            return file_path
        except Exception as e:
            logger.error(f"ä¸‹è½½å¤±è´¥: {e}")
            return None
```

#### å‘½åè§„èŒƒ

- **å˜é‡å’Œå‡½æ•°**: `snake_case`
- **ç±»å**: `PascalCase`
- **å¸¸é‡**: `UPPER_SNAKE_CASE`
- **ç§æœ‰æˆå‘˜**: å‰ç¼€ `_`

#### æ–‡æ¡£å­—ç¬¦ä¸²

```python
def process_chapter_content(
    content: str, 
    chapter_id: int,
    options: dict = None
) -> str:
    """
    å¤„ç†ç« èŠ‚å†…å®¹
    
    Args:
        content: åŸå§‹ç« èŠ‚å†…å®¹
        chapter_id: ç« èŠ‚ID
        options: å¤„ç†é€‰é¡¹ï¼Œå¯é€‰
        
    Returns:
        å¤„ç†åçš„å†…å®¹
        
    Raises:
        ValueError: å½“å†…å®¹æ ¼å¼ä¸æ­£ç¡®æ—¶
        
    Example:
        >>> content = "ç¬¬ä¸€ç«  å†…å®¹..."
        >>> result = process_chapter_content(content, 1)
        >>> print(result)
        å¤„ç†åçš„å†…å®¹
    """
    pass
```

### JavaScript/HTML/CSS è§„èŒƒ

#### JavaScript

```javascript
// å¥½çš„ç¤ºä¾‹
class DownloadManager {
    constructor() {
        this.queue = [];
        this.activeDownloads = 0;
        this.maxConcurrent = 3;
    }
    
    async downloadBook(bookId, format = 'txt') {
        try {
            if (this.activeDownloads >= this.maxConcurrent) {
                await this.waitForSlot();
            }
            
            this.activeDownloads++;
            const result = await this._performDownload(bookId, format);
            return result;
        } catch (error) {
            console.error(`ä¸‹è½½å¤±è´¥: ${bookId}`, error);
            throw error;
        } finally {
            this.activeDownloads--;
        }
    }
}
```

#### HTML

```html
<!-- å¥½çš„ç¤ºä¾‹ -->
<div class="search-container">
    <div class="search-input-group">
        <input 
            type="text" 
            id="searchInput" 
            class="form-control" 
            placeholder="è¾“å…¥ä¹¦åæˆ–ä½œè€…"
            autocomplete="off"
        >
        <button 
            type="button" 
            id="searchBtn" 
            class="btn btn-primary"
            aria-label="æœç´¢"
        >
            <i class="fas fa-search"></i>
            æœç´¢
        </button>
    </div>
    <div id="searchResults" class="search-results" role="region" aria-live="polite">
        <!-- æœç´¢ç»“æœå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
    </div>
</div>
```

#### CSS

```css
/* å¥½çš„ç¤ºä¾‹ */
.search-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 1rem;
}

.search-input-group {
    display: flex;
    gap: 0.5rem;
    margin-bottom: 1rem;
}

.search-input-group input {
    flex: 1;
    padding: 0.75rem;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 1rem;
}

.search-input-group input:focus {
    outline: none;
    border-color: #007bff;
    box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
}
```

## ğŸ“‹ æäº¤è§„èŒƒ

### Commit Message æ ¼å¼

æˆ‘ä»¬ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒï¼š

```
<type>[optional scope]: <description>

[optional body]

[optional footer(s)]
```

#### Type ç±»å‹

- `feat`: æ–°åŠŸèƒ½
- `fix`: Bug ä¿®å¤
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼åŒ–ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
- `refactor`: ä»£ç é‡æ„
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

#### ç¤ºä¾‹

```bash
# æ–°åŠŸèƒ½
git commit -m "feat(download): æ·»åŠ æ‰¹é‡ä¸‹è½½åŠŸèƒ½"

# Bug ä¿®å¤
git commit -m "fix(web): ä¿®å¤æœç´¢ç»“æœåˆ†é¡µé—®é¢˜"

# æ–‡æ¡£æ›´æ–°
git commit -m "docs(readme): æ›´æ–°å®‰è£…è¯´æ˜"

# ä»£ç é‡æ„
git commit -m "refactor(core): é‡æ„ä¸‹è½½å™¨æ¨¡å—ç»“æ„"
```

### åˆ†æ”¯ç­–ç•¥

#### ä¸»è¦åˆ†æ”¯

- `main`: ä¸»åˆ†æ”¯ï¼Œç¨³å®šç‰ˆæœ¬
- `develop`: å¼€å‘åˆ†æ”¯ï¼Œæœ€æ–°åŠŸèƒ½
- `release/*`: å‘å¸ƒåˆ†æ”¯
- `hotfix/*`: çƒ­ä¿®å¤åˆ†æ”¯

#### åŠŸèƒ½åˆ†æ”¯

```bash
# åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/batch-download

# åˆ›å»ºä¿®å¤åˆ†æ”¯
git checkout -b fix/search-pagination

# åˆ›å»ºæ–‡æ¡£åˆ†æ”¯
git checkout -b docs/api-guide
```

### Pull Request æµç¨‹

1. **åˆ›å»ºåˆ†æ”¯**: ä» `develop` åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
2. **å¼€å‘åŠŸèƒ½**: ç¼–å†™ä»£ç å’Œæµ‹è¯•
3. **æäº¤ä»£ç **: éµå¾ªæäº¤è§„èŒƒ
4. **æ¨é€åˆ†æ”¯**: æ¨é€åˆ°æ‚¨çš„ Fork
5. **åˆ›å»º PR**: å‘ `develop` åˆ†æ”¯æäº¤ PR
6. **ä»£ç å®¡æŸ¥**: ç­‰å¾…ç»´æŠ¤è€…å®¡æŸ¥
7. **åˆå¹¶ä»£ç **: å®¡æŸ¥é€šè¿‡ååˆå¹¶

#### PR æ¨¡æ¿

```markdown
## å˜æ›´æè¿°
ç®€è¦æè¿°æ­¤ PR çš„å˜æ›´å†…å®¹

## å˜æ›´ç±»å‹
- [ ] Bug ä¿®å¤
- [ ] æ–°åŠŸèƒ½
- [ ] ä»£ç é‡æ„
- [ ] æ–‡æ¡£æ›´æ–°
- [ ] å…¶ä»–

## æµ‹è¯•
- [ ] å·²æ·»åŠ æ–°æµ‹è¯•
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] æ‰‹åŠ¨æµ‹è¯•é€šè¿‡

## æ£€æŸ¥æ¸…å•
- [ ] ä»£ç éµå¾ªé¡¹ç›®è§„èŒƒ
- [ ] å·²æ›´æ–°ç›¸å…³æ–‡æ¡£
- [ ] æ— æ˜æ˜¾æ€§èƒ½é—®é¢˜
- [ ] å…¼å®¹æ€§è‰¯å¥½

## ç›¸å…³ Issue
Closes #(issue number)

## æˆªå›¾ï¼ˆå¦‚é€‚ç”¨ï¼‰
æ·»åŠ ç›¸å…³æˆªå›¾æˆ– GIF

## å…¶ä»–è¯´æ˜
å…¶ä»–éœ€è¦è¯´æ˜çš„å†…å®¹
```

## ğŸ› é—®é¢˜æŠ¥å‘Š

### Bug æŠ¥å‘Šæ¨¡æ¿

```markdown
**Bug æè¿°**
ç®€è¦æè¿°é‡åˆ°çš„é—®é¢˜

**å¤ç°æ­¥éª¤**
1. è¿›å…¥ '...'
2. ç‚¹å‡» '....'
3. æ»šåŠ¨åˆ° '....'
4. çœ‹åˆ°é”™è¯¯

**æœŸæœ›è¡Œä¸º**
æè¿°æ‚¨æœŸæœ›å‘ç”Ÿçš„æƒ…å†µ

**å®é™…è¡Œä¸º**
æè¿°å®é™…å‘ç”Ÿçš„æƒ…å†µ

**æˆªå›¾**
å¦‚æœé€‚ç”¨ï¼Œæ·»åŠ æˆªå›¾å¸®åŠ©è§£é‡Šé—®é¢˜

**ç¯å¢ƒä¿¡æ¯**
- æ“ä½œç³»ç»Ÿ: [ä¾‹å¦‚ Windows 11]
- Python ç‰ˆæœ¬: [ä¾‹å¦‚ 3.9.7]
- ç¨‹åºç‰ˆæœ¬: [ä¾‹å¦‚ v1.2.0]
- æµè§ˆå™¨: [ä¾‹å¦‚ Chrome 96.0]

**é™„åŠ ä¿¡æ¯**
æ·»åŠ å…¶ä»–ç›¸å…³ä¿¡æ¯
```

### å¦‚ä½•æœ‰æ•ˆæŠ¥å‘Š Bug

1. **æœç´¢ç°æœ‰ Issues**: ç¡®ä¿é—®é¢˜æœªè¢«æŠ¥å‘Š
2. **ä½¿ç”¨æ¨¡æ¿**: å¡«å†™å®Œæ•´çš„ Bug æŠ¥å‘Š
3. **æä¾›å¤ç°æ­¥éª¤**: è¯¦ç»†è¯´æ˜å¦‚ä½•é‡ç°é—®é¢˜
4. **åŒ…å«ç¯å¢ƒä¿¡æ¯**: æ“ä½œç³»ç»Ÿã€ç‰ˆæœ¬ç­‰
5. **æ·»åŠ æ—¥å¿—**: å¦‚æœæœ‰é”™è¯¯æ—¥å¿—ï¼Œè¯·é™„ä¸Š
6. **ä¿æŒç®€æ´**: é¿å…å†—ä½™ä¿¡æ¯

## ğŸ’¡ åŠŸèƒ½è¯·æ±‚

### åŠŸèƒ½è¯·æ±‚æ¨¡æ¿

```markdown
**åŠŸèƒ½æè¿°**
ç®€è¦æè¿°æ‚¨å¸Œæœ›æ·»åŠ çš„åŠŸèƒ½

**é—®é¢˜èƒŒæ™¯**
æè¿°è¿™ä¸ªåŠŸèƒ½è¦è§£å†³çš„é—®é¢˜

**è§£å†³æ–¹æ¡ˆ**
æè¿°æ‚¨å¸Œæœ›çš„è§£å†³æ–¹æ¡ˆ

**æ›¿ä»£æ–¹æ¡ˆ**
æè¿°æ‚¨è€ƒè™‘è¿‡çš„å…¶ä»–è§£å†³æ–¹æ¡ˆ

**ä½¿ç”¨åœºæ™¯**
æè¿°è¿™ä¸ªåŠŸèƒ½çš„ä½¿ç”¨åœºæ™¯

**é™„åŠ ä¿¡æ¯**
æ·»åŠ å…¶ä»–ç›¸å…³ä¿¡æ¯æˆ–æˆªå›¾
```

### å¦‚ä½•æå‡ºå¥½çš„åŠŸèƒ½è¯·æ±‚

1. **æ£€æŸ¥ç°æœ‰è¯·æ±‚**: ç¡®ä¿åŠŸèƒ½æœªè¢«æè®®
2. **æè¿°é—®é¢˜**: æ¸…æ¥šè¯´æ˜è¦è§£å†³çš„é—®é¢˜
3. **æä¾›è§£å†³æ–¹æ¡ˆ**: ç»™å‡ºå…·ä½“çš„å®ç°æ€è·¯
4. **è€ƒè™‘å½±å“**: æ€è€ƒåŠŸèƒ½å¯¹ç°æœ‰ä»£ç çš„å½±å“
5. **è®¨è®ºä¼˜å…ˆçº§**: ä¸ç»´æŠ¤è€…è®¨è®ºå®ç°ä¼˜å…ˆçº§

## ğŸ” ä»£ç å®¡æŸ¥

### å®¡æŸ¥è¦ç‚¹

#### åŠŸèƒ½æ€§
- [ ] åŠŸèƒ½æ˜¯å¦æŒ‰é¢„æœŸå·¥ä½œ
- [ ] æ˜¯å¦æœ‰è¾¹ç•Œæƒ…å†µæœªå¤„ç†
- [ ] é”™è¯¯å¤„ç†æ˜¯å¦å®Œå–„
- [ ] æ€§èƒ½æ˜¯å¦å¯æ¥å—

#### ä»£ç è´¨é‡
- [ ] ä»£ç æ˜¯å¦æ¸…æ™°æ˜“æ‡‚
- [ ] æ˜¯å¦éµå¾ªé¡¹ç›®è§„èŒƒ
- [ ] æ˜¯å¦æœ‰é‡å¤ä»£ç 
- [ ] å˜é‡å’Œå‡½æ•°å‘½åæ˜¯å¦åˆç†

#### æµ‹è¯•
- [ ] æ˜¯å¦æœ‰è¶³å¤Ÿçš„æµ‹è¯•è¦†ç›–
- [ ] æµ‹è¯•ç”¨ä¾‹æ˜¯å¦åˆç†
- [ ] æ˜¯å¦æœ‰é›†æˆæµ‹è¯•
- [ ] æ‰‹åŠ¨æµ‹è¯•æ˜¯å¦é€šè¿‡

#### æ–‡æ¡£
- [ ] æ˜¯å¦æ›´æ–°äº†ç›¸å…³æ–‡æ¡£
- [ ] ä»£ç æ³¨é‡Šæ˜¯å¦å……åˆ†
- [ ] API æ–‡æ¡£æ˜¯å¦å‡†ç¡®
- [ ] ä½¿ç”¨ç¤ºä¾‹æ˜¯å¦æ­£ç¡®

### å®¡æŸ¥æµç¨‹

1. **è‡ªåŠ¨æ£€æŸ¥**: CI/CD è‡ªåŠ¨è¿è¡Œæµ‹è¯•å’Œæ£€æŸ¥
2. **äººå·¥å®¡æŸ¥**: ç»´æŠ¤è€…è¿›è¡Œä»£ç å®¡æŸ¥
3. **åé¦ˆä¿®æ”¹**: æ ¹æ®å®¡æŸ¥æ„è§ä¿®æ”¹ä»£ç 
4. **å†æ¬¡å®¡æŸ¥**: ä¿®æ”¹åå†æ¬¡å®¡æŸ¥
5. **åˆå¹¶ä»£ç **: å®¡æŸ¥é€šè¿‡ååˆå¹¶

### å®¡æŸ¥æ ‡å‡†

#### ä»£ç é£æ ¼
- éµå¾ª PEP 8 è§„èŒƒ
- ä½¿ç”¨ Black æ ¼å¼åŒ–
- é€šè¿‡ Flake8 æ£€æŸ¥
- é€šè¿‡ mypy ç±»å‹æ£€æŸ¥

#### æµ‹è¯•è¦æ±‚
- å•å…ƒæµ‹è¯•è¦†ç›–ç‡ > 80%
- æ‰€æœ‰æµ‹è¯•å¿…é¡»é€šè¿‡
- æ–°åŠŸèƒ½å¿…é¡»æœ‰æµ‹è¯•
- Bug ä¿®å¤å¿…é¡»æœ‰å›å½’æµ‹è¯•

#### æ€§èƒ½è¦æ±‚
- ä¸é™ä½ç°æœ‰æ€§èƒ½
- é¿å…å†…å­˜æ³„æ¼
- é¿å…ä¸å¿…è¦çš„è®¡ç®—
- ä¼˜åŒ–çƒ­ç‚¹ä»£ç 

## ğŸš€ å‘å¸ƒæµç¨‹

### ç‰ˆæœ¬å·è§„èŒƒ

æˆ‘ä»¬ä½¿ç”¨ [è¯­ä¹‰åŒ–ç‰ˆæœ¬](https://semver.org/lang/zh-CN/)ï¼š

- **ä¸»ç‰ˆæœ¬å·**: ä¸å…¼å®¹çš„ API ä¿®æ”¹
- **æ¬¡ç‰ˆæœ¬å·**: å‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢
- **ä¿®è®¢å·**: å‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£

### å‘å¸ƒæ­¥éª¤

1. **å‡†å¤‡å‘å¸ƒ**
   ```bash
   # æ›´æ–°ç‰ˆæœ¬å·
   bump2version patch  # æˆ– minor, major
   
   # æ›´æ–° CHANGELOG
   # æ›´æ–°æ–‡æ¡£ä¸­çš„ç‰ˆæœ¬å·
   ```

2. **åˆ›å»ºå‘å¸ƒåˆ†æ”¯**
   ```bash
   git checkout -b release/v1.2.3
   ```

3. **æœ€ç»ˆæµ‹è¯•**
   ```bash
   # è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶
   pytest tests/
   
   # æ„å»ºå¯æ‰§è¡Œæ–‡ä»¶
   python tools/build_app.py
   ```

4. **åˆå¹¶å’Œæ ‡è®°**
   ```bash
   git checkout main
   git merge release/v1.2.3
   git tag v1.2.3
   ```

5. **å‘å¸ƒ**
   ```bash
   git push origin main --tags
   # GitHub Actions ä¼šè‡ªåŠ¨æ„å»ºå’Œå‘å¸ƒ
   ```

### å‘å¸ƒæ£€æŸ¥æ¸…å•

- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] æ–‡æ¡£å·²æ›´æ–°
- [ ] CHANGELOG å·²æ›´æ–°
- [ ] ç‰ˆæœ¬å·å·²æ›´æ–°
- [ ] æ„å»ºæˆåŠŸ
- [ ] å‘å¸ƒè¯´æ˜å·²å‡†å¤‡

### å‘å¸ƒåå·¥ä½œ

1. **å‘å¸ƒå…¬å‘Š**ï¼šåœ¨ GitHub Releases å‘å¸ƒå…¬å‘Š
2. **æ›´æ–°æ–‡æ¡£**ï¼šæ›´æ–°ç›¸å…³æ–‡æ¡£ä¸­çš„ç‰ˆæœ¬ä¿¡æ¯
3. **é€šçŸ¥ç”¨æˆ·**ï¼šé€šè¿‡ç¤¾åŒºæ¸ é“é€šçŸ¥ç”¨æˆ·
4. **ç›‘æ§é—®é¢˜**ï¼šå…³æ³¨æ–°ç‰ˆæœ¬çš„åé¦ˆå’Œé—®é¢˜

## ğŸ† è´¡çŒ®è€…è®¤å¯

### è´¡çŒ®è€…åˆ—è¡¨

æ‰€æœ‰è´¡çŒ®è€…éƒ½ä¼šåœ¨é¡¹ç›®ä¸­å¾—åˆ°è®¤å¯ï¼š

- **README**: æ·»åŠ è´¡çŒ®è€…åˆ—è¡¨
- **CHANGELOG**: åœ¨ç‰ˆæœ¬æ›´æ–°ä¸­æ„Ÿè°¢è´¡çŒ®è€…
- **Contributors**: GitHub è‡ªåŠ¨ç»Ÿè®¡è´¡çŒ®

### æˆä¸ºç»´æŠ¤è€…

æ´»è·ƒçš„è´¡çŒ®è€…å¯ä»¥æˆä¸ºé¡¹ç›®ç»´æŠ¤è€…ï¼š

1. **æŒç»­è´¡çŒ®**: é•¿æœŸé«˜è´¨é‡è´¡çŒ®
2. **ä»£ç å®¡æŸ¥**: å‚ä¸ä»£ç å®¡æŸ¥
3. **é—®é¢˜å¤„ç†**: å¸®åŠ©è§£å†³ç¤¾åŒºé—®é¢˜
4. **ç¤¾åŒºå»ºè®¾**: å¸®åŠ©å»ºè®¾ç¤¾åŒºæ–‡åŒ–

## ğŸ“š å¼€å‘èµ„æº

### é¡¹ç›®æ¶æ„

```
Fanqie-novel-Downloader/
â”œâ”€â”€ core/                   # æ ¸å¿ƒåŠŸèƒ½æ¨¡å—
â”‚   â”œâ”€â”€ novel_downloader.py # å°è¯´ä¸‹è½½æ ¸å¿ƒé€»è¾‘
â”‚   â”œâ”€â”€ cli.py             # å‘½ä»¤è¡Œç•Œé¢
â”‚   â””â”€â”€ state_store.py     # çŠ¶æ€ç®¡ç†
â”œâ”€â”€ web/                    # Web ç•Œé¢
â”‚   â”œâ”€â”€ web_app.py         # Flask Web åº”ç”¨
â”‚   â”œâ”€â”€ static/            # é™æ€èµ„æº
â”‚   â””â”€â”€ templates/         # HTML æ¨¡æ¿
â”œâ”€â”€ utils/                  # å·¥å…·æ¨¡å—
â”‚   â”œâ”€â”€ node_tester.py     # èŠ‚ç‚¹æµ‹è¯•å’Œä¼˜é€‰
â”‚   â”œâ”€â”€ node_manager.py    # èŠ‚ç‚¹çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ book_id.py         # ä¹¦ç±IDå¤„ç†
â”‚   â””â”€â”€ encoding_utils.py  # ç¼–ç å¤„ç†
â””â”€â”€ config/                 # é…ç½®æ–‡ä»¶
```

### æ ¸å¿ƒæ¨¡å—è¯´æ˜

#### novel_downloader.py
å°è¯´ä¸‹è½½æ ¸å¿ƒé€»è¾‘ï¼Œè´Ÿè´£ï¼š
- ä¹¦ç±ä¿¡æ¯è·å–
- ç« èŠ‚å†…å®¹ä¸‹è½½
- æ–‡ä»¶æ ¼å¼è½¬æ¢
- å°é¢å›¾ç‰‡å¤„ç†

#### node_tester.py
èŠ‚ç‚¹æµ‹è¯•å’Œä¼˜é€‰æ¨¡å—ï¼Œè´Ÿè´£ï¼š
- å¼‚æ­¥æµ‹è¯•æ‰€æœ‰èŠ‚ç‚¹
- é€‰æ‹©æœ€ä¼˜èŠ‚ç‚¹
- èŠ‚ç‚¹çŠ¶æ€ç¼“å­˜

#### node_manager.py
èŠ‚ç‚¹çŠ¶æ€ç®¡ç†æ¨¡å—ï¼Œè´Ÿè´£ï¼š
- èŠ‚ç‚¹å¥åº·ç›‘æ§
- æ•…éšœæ£€æµ‹å’Œæ¢å¤
- èŠ‚ç‚¹çŠ¶æ€æŒä¹…åŒ–

### è°ƒè¯•æŠ€å·§

1. **å¯ç”¨è¯¦ç»†æ—¥å¿—**
   ```bash
   export LOG_LEVEL=DEBUG
   python main.py
   ```

2. **ä½¿ç”¨æ–­ç‚¹è°ƒè¯•**
   ```python
   import pdb; pdb.set_trace()
   ```

3. **æ€§èƒ½åˆ†æ**
   ```bash
   python -m cProfile -s time main.py
   ```

4. **å†…å­˜åˆ†æ**
   ```bash
   python -m memory_profiler main.py
   ```

### æµ‹è¯•æŒ‡å—

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest tests/

# è¿è¡Œç‰¹å®šæµ‹è¯•
pytest tests/test_downloader.py

# æŸ¥çœ‹è¦†ç›–ç‡
pytest --cov=core tests/

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
pytest --cov=core --cov-report=html tests/
```

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼š

- **GitHub Issues**: [æäº¤é—®é¢˜](https://github.com/POf-L/Fanqie-novel-Downloader/issues)
- **GitHub Discussions**: [å‚ä¸è®¨è®º](https://github.com/POf-L/Fanqie-novel-Downloader/discussions)
- **Email**: [è”ç³»ç»´æŠ¤è€…](mailto:author@example.com)

## ğŸ“„ è®¸å¯è¯

é€šè¿‡è´¡çŒ®ä»£ç ï¼Œæ‚¨åŒæ„æ‚¨çš„è´¡çŒ®å°†åœ¨ä¸é¡¹ç›®ç›¸åŒçš„ [MIT è®¸å¯è¯](../LICENSE) ä¸‹æˆæƒã€‚

---

æ„Ÿè°¢æ‚¨çš„è´¡çŒ®ï¼ğŸ‰

ğŸ“– **è¿”å›ä¸»æ–‡æ¡£**: [README.md](../README.md)
